{
  "contractName": "ERC721PortalFacet",
  "sourceName": "contracts/facets/ERC721PortalFacet.sol",
  "abi": [
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "ERC721",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "sender",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "bytes",
          "name": "data",
          "type": "bytes"
        }
      ],
      "name": "ERC721Deposited",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "ERC721",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address payable",
          "name": "receiver",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        }
      ],
      "name": "ERC721Withdrawn",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_ERC721",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_tokenId",
          "type": "uint256"
        },
        {
          "internalType": "bytes",
          "name": "_data",
          "type": "bytes"
        }
      ],
      "name": "erc721Deposit",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes",
          "name": "_data",
          "type": "bytes"
        }
      ],
      "name": "erc721Withdrawal",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "bytes",
          "name": "",
          "type": "bytes"
        }
      ],
      "name": "onERC721Received",
      "outputs": [
        {
          "internalType": "bytes4",
          "name": "",
          "type": "bytes4"
        }
      ],
      "stateMutability": "pure",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b506109fd806100206000396000f3fe608060405234801561001057600080fd5b50600436106100415760003560e01c8063150b7a021461004657806315e55ce51461009c5780636e9401e3146100bf575b600080fd5b61007e6100543660046106e4565b7f150b7a023d4804d13e8c85fb27262cb750cf6ba9f9dd3bb30d90f482ceeb4b1f95945050505050565b6040516001600160e01b031990911681526020015b60405180910390f35b6100af6100aa366004610757565b6100e0565b6040519015158152602001610093565b6100d26100cd366004610799565b6101ff565b604051908152602001610093565b60003330146101245760405162461bcd60e51b815260206004820152600b60248201526a37b7363c9034ba39b2b63360a91b60448201526064015b60405180910390fd5b60008080610134858701876107f5565b604051632142170760e11b81523060048201526001600160a01b03808416602483015260448201839052939650919450925084918216906342842e0e90606401600060405180830381600087803b15801561018e57600080fd5b505af11580156101a2573d6000803e3d6000fd5b5050604080516001600160a01b038089168252871660208201529081018590527feea167c0d54572a80626f5fd092a7c1f7b5d8e309533747e7e7d77b0558d6cf19250606001905060405180910390a15060019695505050505050565b6000807f943d5d24442f02461445e15c5d7d4a4ef0acb0d32c5d6f6af37a6882249912ff604051632142170760e11b81523360048201523060248201526044810187905290915086906001600160a01b038216906342842e0e90606401600060405180830381600087803b15801561027657600080fd5b505af115801561028a573d6000803e3d6000fd5b5050505060007f64d9de45e7db1c0a7cb7960ad25107a6379b6ab85b30444f3a8d724857c1ac7833898989896040516020016102cb9695949392919061085f565b60405160208183030381529060405290507fd57e6e6bc6bb739e23ece1ca46fedc341bd22f8f305cb1b3c0cbc9ccd8419d908833898989604051610313959493929190610899565b60405180910390a16103258382610331565b98975050505050505050565b600061033e838330610345565b9392505050565b600283015482516000917fd32d7f90491bee81172a406b65f3270d810392fe53bb0379dde8bdd4e624189c9111156103bf5760405162461bcd60e51b815260206004820152601860248201527f696e707574206c656e3a205b302c647269766553697a655d0000000000000000604482015260640161011b565b6103c8816104ea565b156103d6576103d6856105c2565b600085600301546000146103ed57856001016103ef565b855b905060006103fc836105e1565b8254604080516001600160a01b03891660208083019190915243828401524260608301526080820185905260a08083018590528351808403909101815260c0830184528051908201208b518c83012060e084018290526101008085018290528551808603909101815261012090940190945282519282019290922060018086018955600089815292909220909401849055865494955090939192916104a191906108ee565b847fa15a0da5519c084484141aaa73e525cee96062f5decc97e070f0c4da27738bc78a428d6040516104d593929190610905565b60405180910390a39998505050505050505050565b60018101546000908190600160801b900463ffffffff16600281111561051257610512610971565b600184015490915063ffffffff68010000000000000000820481169116600083600281111561054357610543610971565b14801561055857506105558183610987565b42115b156105b7576001858101805463ffffffff60801b1916600160801b1790556040517fed606d544c2202d032d2626c390923e6f260ca5d89625bba0cfe70d2bdda4e8f916105a49161099f565b60405180910390a1506001949350505050565b506000949350505050565b6003810154156105d35760006105d6565b60015b60ff16600390910155565b7f0635ad75fae4d4e8d896461a635d23700076a1c3fd8da26276f18cb1c09ea5675460018201546000917f0635ad75fae4d4e8d896461a635d23700076a1c3fd8da26276f18cb1c09ea566918390600160801b900463ffffffff16600281111561064d5761064d610971565b9050600081600281111561066357610663610971565b1461067857610673826001610987565b61067a565b815b95945050505050565b6001600160a01b038116811461069857600080fd5b50565b60008083601f8401126106ad57600080fd5b50813567ffffffffffffffff8111156106c557600080fd5b6020830191508360208285010111156106dd57600080fd5b9250929050565b6000806000806000608086880312156106fc57600080fd5b853561070781610683565b9450602086013561071781610683565b935060408601359250606086013567ffffffffffffffff81111561073a57600080fd5b6107468882890161069b565b969995985093965092949392505050565b6000806020838503121561076a57600080fd5b823567ffffffffffffffff81111561078157600080fd5b61078d8582860161069b565b90969095509350505050565b600080600080606085870312156107af57600080fd5b84356107ba81610683565b935060208501359250604085013567ffffffffffffffff8111156107dd57600080fd5b6107e98782880161069b565b95989497509550505050565b60008060006060848603121561080a57600080fd5b833561081581610683565b9250602084013561082581610683565b929592945050506040919091013590565b81835281816020850137506000828201602090810191909152601f909101601f19169091010190565b8681526001600160a01b038681166020830152851660408201526060810184905260a0608082018190526000906103259083018486610836565b6001600160a01b03868116825285166020820152604081018490526080606082018190526000906108cd9083018486610836565b979650505050505050565b634e487b7160e01b600052601160045260246000fd5b600082821015610900576109006108d8565b500390565b60018060a01b038416815260006020848184015260606040840152835180606085015260005b818110156109475785810183015185820160800152820161092b565b81811115610959576000608083870101525b50601f01601f19169290920160800195945050505050565b634e487b7160e01b600052602160045260246000fd5b6000821982111561099a5761099a6108d8565b500190565b60208101600383106109c157634e487b7160e01b600052602160045260246000fd5b9190529056fea2646970667358221220012b0595995fbb8df6a4561780468d0c92768e8ff79ac0e94286ec021f0a838c64736f6c634300080d0033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100415760003560e01c8063150b7a021461004657806315e55ce51461009c5780636e9401e3146100bf575b600080fd5b61007e6100543660046106e4565b7f150b7a023d4804d13e8c85fb27262cb750cf6ba9f9dd3bb30d90f482ceeb4b1f95945050505050565b6040516001600160e01b031990911681526020015b60405180910390f35b6100af6100aa366004610757565b6100e0565b6040519015158152602001610093565b6100d26100cd366004610799565b6101ff565b604051908152602001610093565b60003330146101245760405162461bcd60e51b815260206004820152600b60248201526a37b7363c9034ba39b2b63360a91b60448201526064015b60405180910390fd5b60008080610134858701876107f5565b604051632142170760e11b81523060048201526001600160a01b03808416602483015260448201839052939650919450925084918216906342842e0e90606401600060405180830381600087803b15801561018e57600080fd5b505af11580156101a2573d6000803e3d6000fd5b5050604080516001600160a01b038089168252871660208201529081018590527feea167c0d54572a80626f5fd092a7c1f7b5d8e309533747e7e7d77b0558d6cf19250606001905060405180910390a15060019695505050505050565b6000807f943d5d24442f02461445e15c5d7d4a4ef0acb0d32c5d6f6af37a6882249912ff604051632142170760e11b81523360048201523060248201526044810187905290915086906001600160a01b038216906342842e0e90606401600060405180830381600087803b15801561027657600080fd5b505af115801561028a573d6000803e3d6000fd5b5050505060007f64d9de45e7db1c0a7cb7960ad25107a6379b6ab85b30444f3a8d724857c1ac7833898989896040516020016102cb9695949392919061085f565b60405160208183030381529060405290507fd57e6e6bc6bb739e23ece1ca46fedc341bd22f8f305cb1b3c0cbc9ccd8419d908833898989604051610313959493929190610899565b60405180910390a16103258382610331565b98975050505050505050565b600061033e838330610345565b9392505050565b600283015482516000917fd32d7f90491bee81172a406b65f3270d810392fe53bb0379dde8bdd4e624189c9111156103bf5760405162461bcd60e51b815260206004820152601860248201527f696e707574206c656e3a205b302c647269766553697a655d0000000000000000604482015260640161011b565b6103c8816104ea565b156103d6576103d6856105c2565b600085600301546000146103ed57856001016103ef565b855b905060006103fc836105e1565b8254604080516001600160a01b03891660208083019190915243828401524260608301526080820185905260a08083018590528351808403909101815260c0830184528051908201208b518c83012060e084018290526101008085018290528551808603909101815261012090940190945282519282019290922060018086018955600089815292909220909401849055865494955090939192916104a191906108ee565b847fa15a0da5519c084484141aaa73e525cee96062f5decc97e070f0c4da27738bc78a428d6040516104d593929190610905565b60405180910390a39998505050505050505050565b60018101546000908190600160801b900463ffffffff16600281111561051257610512610971565b600184015490915063ffffffff68010000000000000000820481169116600083600281111561054357610543610971565b14801561055857506105558183610987565b42115b156105b7576001858101805463ffffffff60801b1916600160801b1790556040517fed606d544c2202d032d2626c390923e6f260ca5d89625bba0cfe70d2bdda4e8f916105a49161099f565b60405180910390a1506001949350505050565b506000949350505050565b6003810154156105d35760006105d6565b60015b60ff16600390910155565b7f0635ad75fae4d4e8d896461a635d23700076a1c3fd8da26276f18cb1c09ea5675460018201546000917f0635ad75fae4d4e8d896461a635d23700076a1c3fd8da26276f18cb1c09ea566918390600160801b900463ffffffff16600281111561064d5761064d610971565b9050600081600281111561066357610663610971565b1461067857610673826001610987565b61067a565b815b95945050505050565b6001600160a01b038116811461069857600080fd5b50565b60008083601f8401126106ad57600080fd5b50813567ffffffffffffffff8111156106c557600080fd5b6020830191508360208285010111156106dd57600080fd5b9250929050565b6000806000806000608086880312156106fc57600080fd5b853561070781610683565b9450602086013561071781610683565b935060408601359250606086013567ffffffffffffffff81111561073a57600080fd5b6107468882890161069b565b969995985093965092949392505050565b6000806020838503121561076a57600080fd5b823567ffffffffffffffff81111561078157600080fd5b61078d8582860161069b565b90969095509350505050565b600080600080606085870312156107af57600080fd5b84356107ba81610683565b935060208501359250604085013567ffffffffffffffff8111156107dd57600080fd5b6107e98782880161069b565b95989497509550505050565b60008060006060848603121561080a57600080fd5b833561081581610683565b9250602084013561082581610683565b929592945050506040919091013590565b81835281816020850137506000828201602090810191909152601f909101601f19169091010190565b8681526001600160a01b038681166020830152851660408201526060810184905260a0608082018190526000906103259083018486610836565b6001600160a01b03868116825285166020820152604081018490526080606082018190526000906108cd9083018486610836565b979650505050505050565b634e487b7160e01b600052601160045260246000fd5b600082821015610900576109006108d8565b500390565b60018060a01b038416815260006020848184015260606040840152835180606085015260005b818110156109475785810183015185820160800152820161092b565b81811115610959576000608083870101525b50601f01601f19169290920160800195945050505050565b634e487b7160e01b600052602160045260246000fd5b6000821982111561099a5761099a6108d8565b500190565b60208101600383106109c157634e487b7160e01b600052602160045260246000fd5b9190529056fea2646970667358221220012b0595995fbb8df6a4561780468d0c92768e8ff79ac0e94286ec021f0a838c64736f6c634300080d0033",
  "linkReferences": {},
  "deployedLinkReferences": {},
  "devdoc": {
    "kind": "dev",
    "methods": {
      "erc721Deposit(address,uint256,bytes)": {
        "params": {
          "_ERC721": "address of the ERC721 contract",
          "_data": "information to be interpreted by L2",
          "_tokenId": "index of token for the provided ERC721 contract"
        },
        "returns": {
          "_0": "hash of input generated by deposit"
        }
      },
      "erc721Withdrawal(bytes)": {
        "details": "can only be called by the Rollups contract",
        "params": {
          "_data": "data with withdrawal information"
        }
      }
    },
    "version": 1
  },
  "userdoc": {
    "events": {
      "ERC721Deposited(address,address,uint256,bytes)": {
        "notice": "emitted on ERC721 deposited"
      },
      "ERC721Withdrawn(address,address,uint256)": {
        "notice": "emitted on ERC721 withdrawal"
      }
    },
    "kind": "user",
    "methods": {
      "erc721Deposit(address,uint256,bytes)": {
        "notice": "deposit an ERC721 token in the portal and create a token in L2"
      },
      "erc721Withdrawal(bytes)": {
        "notice": "withdraw an ERC721 token from the portal"
      },
      "onERC721Received(address,address,uint256,bytes)": {
        "notice": "Handle the receipt of an NFT"
      }
    },
    "version": 1
  },
  "evm": {
    "gasEstimates": {
      "creation": {
        "codeDepositCost": "511400",
        "executionCost": "543",
        "totalCost": "511943"
      },
      "external": {
        "erc721Deposit(address,uint256,bytes)": "infinite",
        "erc721Withdrawal(bytes)": "infinite",
        "onERC721Received(address,address,uint256,bytes)": "infinite"
      }
    },
    "methodIdentifiers": {
      "erc721Deposit(address,uint256,bytes)": "6e9401e3",
      "erc721Withdrawal(bytes)": "15e55ce5",
      "onERC721Received(address,address,uint256,bytes)": "150b7a02"
    }
  }
}